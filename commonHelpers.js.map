{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport  \"flatpickr/dist/themes/material_orange.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport imageUrl from '../img/icon-error.svg';\n\nconst refs = {\n  selectInput: document.getElementById('datetime-picker'),\n  startBtn: document.querySelector('[data-start]'),\n  daysField: document.querySelector('[data-days]'),\n  hoursField: document.querySelector('[data-hours]'),\n  minutesField: document.querySelector('[data-minutes]'),\n  secondsField: document.querySelector('[data-seconds]'),\n}\n\nrefs.startBtn.disabled = true;\n\nlet userSelectedDate;\n    \nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0];\n    const currentDate = new Date();\n    if (userSelectedDate <= currentDate) {\n      iziToast.error({\n        title: 'Error!',\n        titleColor: '#fff', \n        message: 'Please choose a date in the future!',\n        messageSize: '16',\n        messageColor: '#fff',        \n        backgroundColor: '#ef4040',\n        imageWidth: 302,\n        position: 'topRight',\n        theme: 'dark',\n        close: true,\n        closeOnEscape: true,\n        closeOnClick: true,\n        progressBar: true,\n        progressBarColor: '#b51b1b',\n        transitionIn: 'fadeInDown',\n        transitionOut: 'fadeOutUp',\n        iconUrl: imageUrl,\n        iconColor: '#fafafb',\n      });\n      console.log('Wrong Date! \\nPlease choose a date in the future!');\n      refs.startBtn.disabled = true;\n    } else {\n      refs.startBtn.disabled = false;\n    };\n  },\n};\n\nflatpickr(refs.selectInput, options);\n\nlet timeLeft;\nrefs.startBtn.addEventListener('click', () => {\n    refs.startBtn.disabled = true;\n    refs.selectInput.disabled = true;\n    timeLeft = setInterval(convertMs, 1000);\n});\n\nfunction convertMs(ms) {\n  const endTime = userSelectedDate.getTime();\n  const currentTime = Date.now();\n  ms = endTime - currentTime;\n  if (ms < 0) {\n    clearInterval(timeLeft);\n    console.log('Time Is Up!');\n    iziToast.info({\n      title: 'Hey!',\n      titleColor: '#fff',\n      message: 'Time Is Up!',\n      messageSize: '16',\n      messageColor: '#fff',\n      backgroundColor: 'green',\n      position: 'center',\n      theme: 'dark',\n      close: false,\n      closeOnEscape: true,\n      closeOnClick: true,\n      transitionIn: 'bounceInLeft',\n      transitionOut: 'fadeOutLeft',\n    });\n    refs.selectInput.disabled = false;\n    return;\n    };\n\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  function addLeadingZero(value) {\n    return String(value).padStart(2, '0');\n  };\n\n  refs.daysField.textContent = addLeadingZero(days);\n  refs.hoursField.textContent = addLeadingZero(hours);\n  refs.minutesField.textContent = addLeadingZero(minutes);\n  refs.secondsField.textContent = addLeadingZero(seconds);\n}"],"names":["refs","userSelectedDate","options","selectedDates","iziToast","imageUrl","flatpickr","timeLeft","convertMs","ms","endTime","currentTime","second","minute","hour","day","days","hours","minutes","seconds","addLeadingZero","value"],"mappings":"+IAOA,MAAMA,EAAO,CACX,YAAa,SAAS,eAAe,iBAAiB,EACtD,SAAU,SAAS,cAAc,cAAc,EAC/C,UAAW,SAAS,cAAc,aAAa,EAC/C,WAAY,SAAS,cAAc,cAAc,EACjD,aAAc,SAAS,cAAc,gBAAgB,EACrD,aAAc,SAAS,cAAc,gBAAgB,CACvD,EAEAA,EAAK,SAAS,SAAW,GAEzB,IAAIC,EAEJ,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBF,EAAmBE,EAAc,CAAC,EAE9BF,GADgB,IAAI,MAEtBG,EAAS,MAAM,CACb,MAAO,SACP,WAAY,OACZ,QAAS,sCACT,YAAa,KACb,aAAc,OACd,gBAAiB,UACjB,WAAY,IACZ,SAAU,WACV,MAAO,OACP,MAAO,GACP,cAAe,GACf,aAAc,GACd,YAAa,GACb,iBAAkB,UAClB,aAAc,aACd,cAAe,YACf,QAASC,EACT,UAAW,SACnB,CAAO,EACD,QAAQ,IAAI;AAAA,oCAAmD,EAC/DL,EAAK,SAAS,SAAW,IAEzBA,EAAK,SAAS,SAAW,EAE5B,CACH,EAEAM,EAAUN,EAAK,YAAaE,CAAO,EAEnC,IAAIK,EACJP,EAAK,SAAS,iBAAiB,QAAS,IAAM,CAC1CA,EAAK,SAAS,SAAW,GACzBA,EAAK,YAAY,SAAW,GAC5BO,EAAW,YAAYC,EAAW,GAAI,CAC1C,CAAC,EAED,SAASA,EAAUC,EAAI,CACrB,MAAMC,EAAUT,EAAiB,UAC3BU,EAAc,KAAK,MAEzB,GADAF,EAAKC,EAAUC,EACXF,EAAK,EAAG,CACV,cAAcF,CAAQ,EACtB,QAAQ,IAAI,aAAa,EACzBH,EAAS,KAAK,CACZ,MAAO,OACP,WAAY,OACZ,QAAS,cACT,YAAa,KACb,aAAc,OACd,gBAAiB,QACjB,SAAU,SACV,MAAO,OACP,MAAO,GACP,cAAe,GACf,aAAc,GACd,aAAc,eACd,cAAe,aACrB,CAAK,EACDJ,EAAK,YAAY,SAAW,GAC5B,MAEJ,CAEE,MAAMY,EAAS,IACTC,EAASD,EAAS,GAClBE,EAAOD,EAAS,GAChBE,EAAMD,EAAO,GAGbE,EAAO,KAAK,MAAMP,EAAKM,CAAG,EAE1BE,EAAQ,KAAK,MAAOR,EAAKM,EAAOD,CAAI,EAEpCI,EAAU,KAAK,MAAQT,EAAKM,EAAOD,EAAQD,CAAM,EAEjDM,EAAU,KAAK,MAASV,EAAKM,EAAOD,EAAQD,EAAUD,CAAM,EAElE,SAASQ,EAAeC,EAAO,CAC7B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CAExC,CACErB,EAAK,UAAU,YAAcoB,EAAeJ,CAAI,EAChDhB,EAAK,WAAW,YAAcoB,EAAeH,CAAK,EAClDjB,EAAK,aAAa,YAAcoB,EAAeF,CAAO,EACtDlB,EAAK,aAAa,YAAcoB,EAAeD,CAAO,CACxD"}